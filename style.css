/* Animated Stars Background */
.stars-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
    background: transparent;
}

.stars-bg::before,
.stars-bg::after {
    content: '';
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    box-shadow:
        100px 200px white, 300px 100px white, 500px 300px white,
        700px 150px white, 200px 400px white, 600px 250px white,
        150px 50px white, 450px 350px white, 800px 100px white,
        250px 300px white, 550px 450px white, 350px 150px white,
        50px 250px white, 650px 50px white, 750px 400px white,
        400px 200px white, 900px 300px white, 100px 450px white,
        500px 100px white, 300px 350px white, 700px 200px white;
    animation: sparkle 3s infinite;
}

.stars-bg::after {
    animation-delay: 1.5s;
}

@keyframes sparkle {

    0%,
    100% {
        opacity: 0.3;
    }

    50% {
        opacity: 1;
    }
}

/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes flicker {
    from {
        opacity: 0.8;
        transform: translateX(-50%) scale(0.9);
    }

    to {
        opacity: 1;
        transform: translateX(-50%) scale(1.1);
    }
}

@keyframes growIn {
    from {
        transform: scaleY(0);
    }

    to {
        transform: scaleY(1);
    }
}

@keyframes zoomIn {
    from {
        transform: scale(0.5);
        opacity: 0;
    }

    to {
        transform: scale(1);
        opacity: 1;
    }
}

/* Smooth scrolling for any overflow */
* {
    scrollbar-width: thin;
    scrollbar-color: #ff6b9d #1a0f2e;
}

*::-webkit-scrollbar {
    width: 8px;
}

*::-webkit-scrollbar-track {
    background: #1a0f2e;
}

*::-webkit-scrollbar-thumb {
    background: #ff6b9d;
    border-radius: 4px;
}

*::-webkit-scrollbar-thumb:hover {
    background: #ffa8c5;
}

/* CSS Cake Shape */
.css-cake {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
    z-index: 1;
}

.cake-layer {
    position: relative;
    border-radius: 10px 10px 0 0;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.cake-layer-bottom {
    width: 90%;
    height: 35%;
    background: linear-gradient(135deg, #ff6b9d 0%, #c77dff 50%, #ff6b9d 100%);
    border: 3px solid #ffd700;
    border-bottom: 5px solid #9d4edd;
    z-index: 1;
}

.cake-layer-middle {
    width: 75%;
    height: 30%;
    background: linear-gradient(135deg, #ffa8c5 0%, #9d4edd 50%, #ffa8c5 100%);
    border: 3px solid #ffd700;
    border-bottom: 4px solid #764ba2;
    z-index: 2;
    margin-bottom: -2px;
}

.cake-layer-top {
    width: 60%;
    height: 25%;
    background: linear-gradient(135deg, #c77dff 0%, #ff6b9d 50%, #c77dff 100%);
    border: 3px solid #ffd700;
    border-bottom: 3px solid #667eea;
    border-radius: 15px 15px 0 0;
    z-index: 3;
    margin-bottom: -2px;
}

/* Decorative frosting lines */
.cake-layer::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 5%;
    right: 5%;
    height: 2px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 2px;
}

.cake-layer::after {
    content: '';
    position: absolute;
    bottom: 20%;
    left: 10%;
    right: 10%;
    height: 2px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 2px;
}

/* Responsive Utilities */
/* Handle landscape orientation on mobile */
@media (max-height: 600px) and (orientation: landscape) {
    .cake-container {
        width: 30vh !important;
        height: 30vh !important;
    }

    #countdown-display {
        font-size: 2rem !important;
    }

    .font-heading {
        line-height: 1.2 !important;
    }

    /* Reduce vertical spacing in landscape */
    section {
        padding-top: 1rem !important;
        padding-bottom: 1rem !important;
    }

    button {
        margin-top: 0.5rem !important;
        margin-bottom: 0.5rem !important;
    }
}

/* Safe area for notched devices */
@supports (padding: env(safe-area-inset-top)) {
    body {
        padding-top: env(safe-area-inset-top);
        padding-bottom: env(safe-area-inset-bottom);
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
    }
}

/* Improve touch targets on mobile */
@media (max-width: 640px) {
    button {
        min-height: 44px;
        min-width: 44px;
    }

    input {
        min-height: 44px;
        font-size: 16px;
        /* Prevents zoom on iOS */
    }
}

/* Better text readability on small screens */
@media (max-width: 480px) {
    .font-heading {
        letter-spacing: -0.02em;
    }

    /* Ensure images don't overflow */
    img {
        max-width: 100%;
        height: auto;
    }
}

/* Prevent horizontal scroll */
body {
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
}

/* Improve button active states on mobile */
@media (hover: none) and (pointer: coarse) {
    button:active {
        transform: scale(0.95);
        opacity: 0.9;
    }
}

/* Optimize photo gallery for mobile */
@media (max-width: 640px) {
    .grid {
        gap: 0.5rem;
    }

    .grid img {
        border-radius: 0.5rem;
    }
}

/* Better spacing for very small screens */
@media (max-width: 360px) {
    .px-6 {
        padding-left: 1rem !important;
        padding-right: 1rem !important;
    }

    .text-4xl {
        font-size: 2rem !important;
    }

    .text-3xl {
        font-size: 1.75rem !important;
    }

    .text-2xl {
        font-size: 1.5rem !important;
    }
}

/* Optimize for tablets in portrait */
@media (min-width: 641px) and (max-width: 1024px) and (orientation: portrait) {
    .cake-container {
        width: 50vw !important;
        height: 50vw !important;
        max-width: 400px !important;
        max-height: 400px !important;
    }
}

/* Improve candle visibility on small screens */
@media (max-width: 640px) {
    .candle {
        width: 0.5rem !important;
        height: 2rem !important;
    }

    .candle .flame {
        width: 0.375rem !important;
        height: 0.375rem !important;
    }
}